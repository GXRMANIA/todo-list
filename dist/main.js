(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(e){t(1,arguments);var o=n(e);return o.setHours(0,0,0,0),o}function i(e,n){t(2,arguments);var i=o(e),r=o(n);return i.getTime()===r.getTime()}function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}e.d({},{l:()=>f});var d={};function c(){return d}function a(e,o){var i,d,a,l,u,s,p,v;t(1,arguments);var m=c(),f=r(null!==(i=null!==(d=null!==(a=null!==(l=null==o?void 0:o.weekStartsOn)&&void 0!==l?l:null==o||null===(u=o.locale)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==d?d:null===(p=m.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=n(e),y=T.getDay(),h=(y<f?7:0)+y-f;return T.setDate(T.getDate()-h),T.setHours(0,0,0,0),T}function l(e,n,o){t(2,arguments);var i=a(e,o),r=a(n,o);return i.getTime()===r.getTime()}const u=(()=>{const e=document.querySelector(".newTodoForm"),n=document.querySelector(".todos-container"),o=document.querySelector(".editTodoContainer"),r=document.querySelector("#content");function d(){e.childNodes.forEach((e=>{"text"===e.type&&(e.value="")})),e.classList.add("inactive"),f.closeTodoForm()}function c(){o.innerHTML=""}return{loadWeek:function(e){let o=0,i=e.filter((e=>{if(function(e,n){return t(1,arguments),l(e,Date.now(),n)}(Date.parse(e.dueDate)))return e}));i.forEach((e=>{n.innerHTML+=`\n            <div class="todo" data-id="${o}">\n                <p>${e.title}</p>\n                <p>Due: ${e.dueDate}</p>\n                <input type="button" value="Edit" class="editTodoBtn">\n                <input type="button" value="Delete" class="deleteTodoBtn">\n            </div>\n            `,o++}))},loadToday:function(e){let o=0,r=e.filter((e=>{if(function(e){return t(1,arguments),i(e,Date.now())}(Date.parse(e.dueDate)))return e}));r.forEach((e=>{n.innerHTML+=`\n            <div class="todo" data-id="${o}">\n                <p>${e.title}</p>\n                <p>Due: ${e.dueDate}</p>\n                <input type="button" value="Edit" class="editTodoBtn">\n                <input type="button" value="Delete" class="deleteTodoBtn">\n            </div>\n            `,o++}))},loadProjectsPage:function(e){r.innerHTML="";const t=e.map((e=>e.project));[...new Set(t)].forEach((t=>{let n=e.filter((e=>{if(e.project===t)return e}));const o=document.createElement("div");o.classList.add("projectContainer");const i=document.createElement("div");i.textContent=t,o.appendChild(i),n.forEach((e=>{const t=document.createElement("div");t.textContent=e.title,t.classList.add("projectTodos"),o.appendChild(t)})),r.appendChild(o)}))},clearScreen:function(){d(),c(),n.innerHTML="",r.innerHTML=""},openNewTodoForm:function(){e.classList.remove("inactive"),o.innerHTML=""},closeNewTodoForm:d,loadHome:function(e){n.innerHTML="";let t=0;e.forEach((e=>{n.innerHTML+=`\n            <div class="todo" data-id="${t}">\n                <p>${e.title}</p>\n                <p>Due: ${e.dueDate}</p>\n                <input type="button" value="Edit" class="editTodoBtn">\n                <input type="button" value="Delete" class="deleteTodoBtn">\n            </div>\n            `,t++}))},openEditTodo:function(e,t){n.innerHTML="",d(),o.innerHTML=`\n            <div class="editTodo" data-id="${t}">\n                <input type="text" value="${e.title}" class="editTitleInput">\n                <input type="text" value="${e.description}" class="editDescriptionInput">\n                <input type="date" value="${e.dueDate}" class="editDueDateInput"> \n                <select name="priority" id="priority" class="editPriorityInput">\n                    <option ${"low"==e.priority?"selected":""} value="low">Low</option>\n                    <option ${"mid"==e.priority?"selected":""} value="mid">Mid</option>\n                    <option ${"high"==e.priority?"selected":""} value="high">High</option>\n                </select>\n                <input type="text" value="${e.project}" class="editProjectInput">\n                <input type="button" value="Save" class="saveEditBtn">\n                <input type="button" value="Cancel" class="cancelEditBtn">\n            </div>\n            `},closeEditTodo:c}})(),s=function(e){const t=e.target.classList[0];"addBookBtn"===t?f.addTodo():"closeTodoForm"===t&&u.closeNewTodoForm()},p=function(e){const t=e.target.classList[0];let n=e.target.parentNode.dataset.id;"deleteTodoBtn"===t?f.deleteTodo(n):"editTodoBtn"===t&&f.editTodo(n)},v=function(e){let t=e.target.parentNode.dataset.id;const n=e.target.classList[0];if("cancelEditBtn"===n)f.cancelEditTodo();else if("saveEditBtn"===n){const e=document.querySelector(".editTitleInput").value,n=document.querySelector(".editDescriptionInput").value,o=document.querySelector(".editDueDateInput").value,i=document.querySelector(".editPriorityInput").value,r=document.querySelector(".editProjectInput").value;f.saveEditTodo(t,e,n,o,i,r)}};function m(e,t,n,o,i){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.project=i}m.prototype.updateTodo=function(e,t,n,o,i){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.project=i};const f=(()=>{let e=[];const t=document.querySelector(".newBookBtn"),n=document.querySelector(".newTodoForm"),o=document.querySelector(".todos-container"),i=document.querySelector(".editTodoContainer"),r=document.querySelector("#title"),d=document.querySelector("#description"),c=document.querySelector("#duedate"),a=document.querySelector("#priority"),l=document.querySelector("#project"),f=document.querySelector(".navProjects"),T=document.querySelector(".navHome"),y=document.querySelector(".navToday"),h=document.querySelector(".navWeek");return t.addEventListener("click",u.openNewTodoForm),n.addEventListener("click",s),o.addEventListener("click",p),i.addEventListener("click",v),f.addEventListener("click",(function(){u.clearScreen(),u.loadProjectsPage(e)})),T.addEventListener("click",(function(){u.clearScreen(),u.loadHome(e)})),y.addEventListener("click",(function(){u.clearScreen(),u.loadToday(e)})),h.addEventListener("click",(function(){u.clearScreen(),u.loadWeek(e)})),function(){const t=new m("Titel1","Beschreibung 1","1999-08-04","Wichtig","Project1"),n=new m("Titel2","Beschreibung 1","1999-08-04","Wichtig1","Project2"),o=new m("Titel3eins","Beschreibung 1","2022-08-05","Wichtig2","Project3"),i=new m("Titel4eins","Beschreibunsg 1","1999-08-04","Wichtig2","Project1");e.push(t),e.push(n),e.push(o),e.push(i),u.loadHome(e)}(),{addTodo:function(){if(!r.value)return void alert("You have to fill in a title!");const t=new m(r.value,d.value,c.value,a.value,l.value);e.push(t),u.loadHome(e),u.closeNewTodoForm()},deleteTodo:function(t){e.splice(t,1),u.loadHome(e)},editTodo:function(t){u.openEditTodo(e[t],t)},cancelEditTodo:function(){u.closeEditTodo(),u.loadHome(e)},saveEditTodo:function(t,n,o,i,r,d){e[t].updateTodo(n,o,i,r,d),u.closeEditTodo(),u.loadHome(e)},closeTodoForm:function(){u.loadHome(e)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0F6RGpCLFNBQW9CdkMsR0FDaEJELEVBQU00RSxPQUFPM0UsRUFBTyxHQUNwQnJCLEVBQUdnRCxTQUFTNUIsRUFDaEIsRUFzRDZCeUMsU0FwRDdCLFNBQWtCeEMsR0FDZHJCLEVBQUdpRCxhQUFhN0IsRUFBTUMsR0FBUUEsRUFDbEMsRUFrRHVDeUMsZUFoRHZDLFdBQ0k5RCxFQUFHaUIsZ0JBQ0hqQixFQUFHZ0QsU0FBUzVCLEVBQ2hCLEVBNkN1RGdELGFBMUN2RCxTQUFzQi9DLEVBQU9tRCxFQUFVQyxFQUFnQkMsRUFBWUMsRUFBYUMsR0FDNUV4RCxFQUFNQyxHQUFPa0QsV0FBV0MsRUFBVUMsRUFBZ0JDLEVBQVlDLEVBQWFDLEdBQzNFNUUsRUFBR2lCLGdCQUNIakIsRUFBR2dELFNBQVM1QixFQUNoQixFQXNDcUVKLGNBN0RyRSxXQUNJaEIsRUFBR2dELFNBQVM1QixFQUNoQixFQTZESCxFQTVHa0IsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9zdGFydE9mRGF5L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lRGF5L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi90b0ludGVnZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL2RlZmF1bHRPcHRpb25zL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZldlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVGhpc1dlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1RvZGF5L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9iaW5kRXZlbnQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNzdHJpbmctYXJndW1lbnRzXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZkRheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlO1xufSIsImltcG9ydCBzdGFydE9mRGF5IGZyb20gXCIuLi9zdGFydE9mRGF5L2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1NhbWVEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgMDY6MDA6MDAgYW5kIDQgU2VwdGVtYmVyIDE4OjAwOjAwIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0LCA2LCAwKSwgbmV3IERhdGUoMjAxNCwgOCwgNCwgMTgsIDApKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciBhbmQgNCBPY3RvYmVyIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNCwgOSwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciwgMjAxNCBhbmQgNCBTZXB0ZW1iZXIsIDIwMTUgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE1LCA4LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVEYXkoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mRGF5LmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZkRheS5nZXRUaW1lKCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9JbnRlZ2VyKGRpcnR5TnVtYmVyKSB7XG4gIGlmIChkaXJ0eU51bWJlciA9PT0gbnVsbCB8fCBkaXJ0eU51bWJlciA9PT0gdHJ1ZSB8fCBkaXJ0eU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG5cbiAgaWYgKGlzTmFOKG51bWJlcikpIHtcbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbiAgcmV0dXJuIG51bWJlciA8IDAgPyBNYXRoLmNlaWwobnVtYmVyKSA6IE1hdGguZmxvb3IobnVtYmVyKTtcbn0iLCJ2YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0T3B0aW9ucygpIHtcbiAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRPcHRpb25zKG5ld09wdGlvbnMpIHtcbiAgZGVmYXVsdE9wdGlvbnMgPSBuZXdPcHRpb25zO1xufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHRvSW50ZWdlciBmcm9tIFwiLi4vX2xpYi90b0ludGVnZXIvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuLi9fbGliL2RlZmF1bHRPcHRpb25zL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTdW4gQXVnIDMxIDIwMTQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gIHZhciBfcmVmLCBfcmVmMiwgX3JlZjMsIF9vcHRpb25zJHdlZWtTdGFydHNPbiwgX29wdGlvbnMkbG9jYWxlLCBfb3B0aW9ucyRsb2NhbGUkb3B0aW8sIF9kZWZhdWx0T3B0aW9ucyRsb2NhbCwgX2RlZmF1bHRPcHRpb25zJGxvY2FsMjtcblxuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgdmFyIHdlZWtTdGFydHNPbiA9IHRvSW50ZWdlcigoX3JlZiA9IChfcmVmMiA9IChfcmVmMyA9IChfb3B0aW9ucyR3ZWVrU3RhcnRzT24gPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyR3ZWVrU3RhcnRzT24gIT09IHZvaWQgMCA/IF9vcHRpb25zJHdlZWtTdGFydHNPbiA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlKSA9PT0gbnVsbCB8fCBfb3B0aW9ucyRsb2NhbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyRsb2NhbGUkb3B0aW8gPSBfb3B0aW9ucyRsb2NhbGUub3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMkbG9jYWxlJG9wdGlvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyRsb2NhbGUkb3B0aW8ud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmMyAhPT0gdm9pZCAwID8gX3JlZjMgOiBkZWZhdWx0T3B0aW9ucy53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9yZWYyICE9PSB2b2lkIDAgPyBfcmVmMiA6IChfZGVmYXVsdE9wdGlvbnMkbG9jYWwgPSBkZWZhdWx0T3B0aW9ucy5sb2NhbGUpID09PSBudWxsIHx8IF9kZWZhdWx0T3B0aW9ucyRsb2NhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIgPSBfZGVmYXVsdE9wdGlvbnMkbG9jYWwub3B0aW9ucykgPT09IG51bGwgfHwgX2RlZmF1bHRPcHRpb25zJGxvY2FsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RlZmF1bHRPcHRpb25zJGxvY2FsMi53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9yZWYgIT09IHZvaWQgMCA/IF9yZWYgOiAwKTsgLy8gVGVzdCBpZiB3ZWVrU3RhcnRzT24gaXMgYmV0d2VlbiAwIGFuZCA2IF9hbmRfIGlzIG5vdCBOYU5cblxuICBpZiAoISh3ZWVrU3RhcnRzT24gPj0gMCAmJiB3ZWVrU3RhcnRzT24gPD0gNikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignd2Vla1N0YXJ0c09uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2IGluY2x1c2l2ZWx5Jyk7XG4gIH1cblxuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgdmFyIGRpZmYgPSAoZGF5IDwgd2Vla1N0YXJ0c09uID8gNyA6IDApICsgZGF5IC0gd2Vla1N0YXJ0c09uO1xuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBkaWZmKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IHN0YXJ0T2ZXZWVrIGZyb20gXCIuLi9zdGFydE9mV2Vlay9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcilcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDMxIEF1Z3VzdCAyMDE0IGFuZCA0IFNlcHRlbWJlciAyMDE0IGluIHRoZSBzYW1lIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVXZWVrKG5ldyBEYXRlKDIwMTQsIDcsIDMxKSwgbmV3IERhdGUoMjAxNCwgOCwgNCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgd2VlayBzdGFydHMgd2l0aCBNb25kYXksXG4gKiAvLyBhcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSwge1xuICogICB3ZWVrU3RhcnRzT246IDFcbiAqIH0pXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAxIEphbnVhcnkgMjAxNCBhbmQgMSBKYW51YXJ5IDIwMTUgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgMCwgMSksIG5ldyBEYXRlKDIwMTUsIDAsIDEpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVXZWVrKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZUxlZnQsIG9wdGlvbnMpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVSaWdodCwgb3B0aW9ucyk7XG4gIHJldHVybiBkYXRlTGVmdFN0YXJ0T2ZXZWVrLmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZldlZWsuZ2V0VGltZSgpO1xufSIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vaW5kZXguanMnXG5pbXBvcnQgaXNUb2RheSBmcm9tICdkYXRlLWZucy9pc1RvZGF5J1xuaW1wb3J0IGlzVGhpc1dlZWsgZnJvbSAnZGF0ZS1mbnMvaXNUaGlzV2VlaydcblxuXG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgICBcbiAgICAvLyBjYWNoZSBkb21cbiAgICBjb25zdCBuZXdUb2RvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3VG9kb0Zvcm1cIilcbiAgICBjb25zdCB0b2Rvc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb3MtY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGVkaXRUb2RvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0VG9kb0NvbnRhaW5lclwiKVxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIik7XG5cblxuICAgIGZ1bmN0aW9uIG9wZW5OZXdUb2RvRm9ybSgpIHtcbiAgICAgICAgbmV3VG9kb0Zvcm0uY2xhc3NMaXN0LnJlbW92ZShcImluYWN0aXZlXCIpO1xuICAgICAgICBlZGl0VG9kb0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlTmV3VG9kb0Zvcm0oKSB7XG4gICAgICAgIC8vIGNsZWFyIGlucHV0IGZpZWxkcyBhZnRlciBjbG9zaW5nXG4gICAgICAgIG5ld1RvZG9Gb3JtLmNoaWxkTm9kZXMuZm9yRWFjaCgoZWxlKSA9PiB7XG4gICAgICAgICAgICBpZihlbGUudHlwZSAhPT0gXCJ0ZXh0XCIpIHJldHVybjtcbiAgICAgICAgICAgIGVsZS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIH0pXG4gICAgICAgIG5ld1RvZG9Gb3JtLmNsYXNzTGlzdC5hZGQoXCJpbmFjdGl2ZVwiKTtcbiAgICAgICAgYXBwLmNsb3NlVG9kb0Zvcm0oKTtcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRIb21lKHRvZG9zKSB7XG4gICAgICAgIHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIHRvZG9zLmZvckVhY2godG9kbyA9PiB7XG4gICAgICAgICAgICB0b2Rvc0NvbnRhaW5lci5pbm5lckhUTUwgKz1cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvXCIgZGF0YS1pZD1cIiR7aW5kZXh9XCI+XG4gICAgICAgICAgICAgICAgPHA+JHt0b2RvLnRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD5EdWU6ICR7dG9kby5kdWVEYXRlfTwvcD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiRWRpdFwiIGNsYXNzPVwiZWRpdFRvZG9CdG5cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiRGVsZXRlXCIgY2xhc3M9XCJkZWxldGVUb2RvQnRuXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRUb2RheSh0b2Rvcykge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgdG9kYXlUb2RvcyA9IHRvZG9zLmZpbHRlcigodG9kbykgPT4ge1xuICAgICAgICAgICAgaWYoaXNUb2RheShEYXRlLnBhcnNlKHRvZG8uZHVlRGF0ZSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvZG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHRvZGF5VG9kb3MuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgICAgICAgIHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCArPVxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvZG9cIiBkYXRhLWlkPVwiJHtpbmRleH1cIj5cbiAgICAgICAgICAgICAgICA8cD4ke3RvZG8udGl0bGV9PC9wPlxuICAgICAgICAgICAgICAgIDxwPkR1ZTogJHt0b2RvLmR1ZURhdGV9PC9wPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJFZGl0XCIgY2xhc3M9XCJlZGl0VG9kb0J0blwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJEZWxldGVcIiBjbGFzcz1cImRlbGV0ZVRvZG9CdG5cIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkV2Vlayh0b2Rvcykge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgd2Vla1RvZG9zID0gdG9kb3MuZmlsdGVyKCh0b2RvKSA9PiB7XG4gICAgICAgICAgICBpZihpc1RoaXNXZWVrKERhdGUucGFyc2UodG9kby5kdWVEYXRlKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9kbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgd2Vla1RvZG9zLmZvckVhY2godG9kbyA9PiB7XG4gICAgICAgICAgICB0b2Rvc0NvbnRhaW5lci5pbm5lckhUTUwgKz1cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvXCIgZGF0YS1pZD1cIiR7aW5kZXh9XCI+XG4gICAgICAgICAgICAgICAgPHA+JHt0b2RvLnRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD5EdWU6ICR7dG9kby5kdWVEYXRlfTwvcD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiRWRpdFwiIGNsYXNzPVwiZWRpdFRvZG9CdG5cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiRGVsZXRlXCIgY2xhc3M9XCJkZWxldGVUb2RvQnRuXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgICAgICBcbiAgICAgICAgXG5cbiAgICBmdW5jdGlvbiBoaWRlVG9kb3MoKSB7XG4gICAgICAgIHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3BlbkVkaXRUb2RvKHRvZG8sIGluZGV4KSB7XG4gICAgICAgIHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGNsb3NlTmV3VG9kb0Zvcm0oKTtcbiAgICAgICAgZWRpdFRvZG9Db250YWluZXIuaW5uZXJIVE1MID0gXG4gICAgICAgICAgICBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZWRpdFRvZG9cIiBkYXRhLWlkPVwiJHtpbmRleH1cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7dG9kby50aXRsZX1cIiBjbGFzcz1cImVkaXRUaXRsZUlucHV0XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke3RvZG8uZGVzY3JpcHRpb259XCIgY2xhc3M9XCJlZGl0RGVzY3JpcHRpb25JbnB1dFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIHZhbHVlPVwiJHt0b2RvLmR1ZURhdGV9XCIgY2xhc3M9XCJlZGl0RHVlRGF0ZUlucHV0XCI+IFxuICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cInByaW9yaXR5XCIgaWQ9XCJwcmlvcml0eVwiIGNsYXNzPVwiZWRpdFByaW9yaXR5SW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiAkeyh0b2RvLnByaW9yaXR5ID09IFwibG93XCIpID8gXCJzZWxlY3RlZFwiIDogXCJcIn0gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiAkeyh0b2RvLnByaW9yaXR5ID09IFwibWlkXCIpID8gXCJzZWxlY3RlZFwiIDogXCJcIn0gdmFsdWU9XCJtaWRcIj5NaWQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiAkeyh0b2RvLnByaW9yaXR5ID09IFwiaGlnaFwiKSA/IFwic2VsZWN0ZWRcIiA6IFwiXCJ9IHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7dG9kby5wcm9qZWN0fVwiIGNsYXNzPVwiZWRpdFByb2plY3RJbnB1dFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJTYXZlXCIgY2xhc3M9XCJzYXZlRWRpdEJ0blwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJDYW5jZWxcIiBjbGFzcz1cImNhbmNlbEVkaXRCdG5cIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlRWRpdFRvZG8oKSB7XG4gICAgICAgIGVkaXRUb2RvQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFByb2plY3RzUGFnZSh0b2Rvcykge1xuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IFwiXCI7ICAgXG4gICAgICAgIGxldCB0b2Rvc1dpdGhTYW1lUHJvamVjdDtcblxuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZXMgPSB0b2Rvcy5tYXAoKHRvZG8pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b2RvLnByb2plY3Q7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHVuaXFQcm9qZXRzID0gWy4uLm5ldyBTZXQocHJvamVjdE5hbWVzKV07XG5cbiAgICAgICAgdW5pcVByb2pldHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGxldCB0b2Rvc1dpdGhTYW1lUHJvamVjdCA9IHRvZG9zLmZpbHRlcih0b2RvID0+IHtcbiAgICAgICAgICAgICAgICBpZih0b2RvLnByb2plY3QgPT09IHByb2plY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvZG9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInByb2plY3RDb250YWluZXJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0O1xuICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpXG5cbiAgICAgICAgICAgIHRvZG9zV2l0aFNhbWVQcm9qZWN0LmZvckVhY2godG9kbyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFRvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHByb2plY3RUb2RvLnRleHRDb250ZW50ID0gdG9kby50aXRsZTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0VG9kby5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFRvZG9zXCIpXG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0VG9kbylcbiAgICAgICAgICAgIH0pIFxuXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByb2plY3RDb250YWluZXIpXG4gICAgICAgIH0pXG5cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNsZWFyU2NyZWVuKCkge1xuICAgICAgICBjbG9zZU5ld1RvZG9Gb3JtKCk7XG4gICAgICAgIGNsb3NlRWRpdFRvZG8oKTtcbiAgICAgICAgaGlkZVRvZG9zKCk7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG5cblxuICAgIHJldHVybiB7IGxvYWRXZWVrLCBsb2FkVG9kYXksIGxvYWRQcm9qZWN0c1BhZ2UsIGNsZWFyU2NyZWVuLCBvcGVuTmV3VG9kb0Zvcm0sIGNsb3NlTmV3VG9kb0Zvcm0sIGxvYWRIb21lLCBvcGVuRWRpdFRvZG8sIGNsb3NlRWRpdFRvZG8gfVxufSkoKTtcblxuZXhwb3J0IHsgVUkgfSIsImltcG9ydCBpc1NhbWVXZWVrIGZyb20gXCIuLi9pc1NhbWVXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzVGhpc1dlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIGluIHRoZSBzYW1lIHdlZWsgYXMgdGhlIGN1cnJlbnQgZGF0ZT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgc2FtZSB3ZWVrIGFzIHRoZSBjdXJyZW50IGRhdGU/XG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgRGF0ZS5ub3coKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIHRoZSBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGUgaXMgaW4gdGhpcyB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgMjUgU2VwdGVtYmVyIDIwMTQsIGlzIDIxIFNlcHRlbWJlciAyMDE0IGluIHRoaXMgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVGhpc1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMjEpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI1IFNlcHRlbWJlciAyMDE0IGFuZCB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheVxuICogLy8gaXMgMjEgU2VwdGVtYmVyIDIwMTQgaW4gdGhpcyB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNUaGlzV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyMSksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVGhpc1dlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gaXNTYW1lV2VlayhkaXJ0eURhdGUsIERhdGUubm93KCksIG9wdGlvbnMpO1xufSIsImltcG9ydCBpc1NhbWVEYXkgZnJvbSBcIi4uL2lzU2FtZURheS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNUb2RheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqXG4gKiA+IOKaoO+4jyBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQgaW4gdGhlIEZQIHN1Ym1vZHVsZSBhc1xuICogPiBpdCB1c2VzIGBEYXRlLm5vdygpYCBpbnRlcm5hbGx5IGhlbmNlIGltcHVyZSBhbmQgY2FuJ3QgYmUgc2FmZWx5IGN1cnJpZWQuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGUgaXMgdG9kYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNCwgaXMgNiBPY3RvYmVyIDE0OjAwOjAwIHRvZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNUb2RheShuZXcgRGF0ZSgyMDE0LCA5LCA2LCAxNCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RvZGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZURheShkaXJ0eURhdGUsIERhdGUubm93KCkpO1xufSIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vaW5kZXguanMnXG5pbXBvcnQgeyBVSSB9IGZyb20gJy4vVUkuanMnO1xuXG5leHBvcnQgY29uc3QgYmluZEV2ZW50ID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBuZXdUb2RvRm9ybShlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50Q2xhc3MgPSBlLnRhcmdldC5jbGFzc0xpc3RbMF07XG4gICAgICAgIC8vIGFkZCBuZXcgYm9vayBidXR0b25cbiAgICAgICAgaWYoZXZlbnRDbGFzcyA9PT0gXCJhZGRCb29rQnRuXCIpIHtcbiAgICAgICAgICAgIGFwcC5hZGRUb2RvKCk7XG4gICAgICAgIC8vIGNhbmNlbCBidXR0b25cbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50Q2xhc3MgPT09IFwiY2xvc2VUb2RvRm9ybVwiKSB7XG4gICAgICAgICAgICBVSS5jbG9zZU5ld1RvZG9Gb3JtKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2RvKGUpIHtcbiAgICAgICAgY29uc3QgZXZlbnRDbGFzcyA9IGUudGFyZ2V0LmNsYXNzTGlzdFswXTtcbiAgICAgICAgbGV0IGluZGV4ID0gZS50YXJnZXQucGFyZW50Tm9kZS5kYXRhc2V0LmlkO1xuXG4gICAgICAgIGlmKGV2ZW50Q2xhc3MgPT09IFwiZGVsZXRlVG9kb0J0blwiKSB7XG4gICAgICAgICAgICBhcHAuZGVsZXRlVG9kbyhpbmRleClcbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50Q2xhc3MgPT09IFwiZWRpdFRvZG9CdG5cIikge1xuICAgICAgICAgICAgYXBwLmVkaXRUb2RvKGluZGV4KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdFRvZG8oZSkge1xuICAgICAgICBsZXQgaW5kZXggPSBlLnRhcmdldC5wYXJlbnROb2RlLmRhdGFzZXQuaWQ7XG4gICAgICAgIGNvbnN0IGV2ZW50Q2xhc3MgPSBlLnRhcmdldC5jbGFzc0xpc3RbMF07XG4gICAgICAgIGlmKGV2ZW50Q2xhc3MgPT09IFwiY2FuY2VsRWRpdEJ0blwiKSB7XG4gICAgICAgICAgIGFwcC5jYW5jZWxFZGl0VG9kbygpO1xuICAgICAgICB9IGVsc2UgaWYoZXZlbnRDbGFzcyA9PT0gXCJzYXZlRWRpdEJ0blwiKSB7XG4gICAgICAgICAgIGNvbnN0IGVkaXRUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0VGl0bGVJbnB1dFwiKS52YWx1ZTtcbiAgICAgICAgICAgY29uc3QgZWRpdERlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXREZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlO1xuICAgICAgICAgICBjb25zdCBlZGl0RHVlRGF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0RHVlRGF0ZUlucHV0XCIpLnZhbHVlO1xuICAgICAgICAgICBjb25zdCBlZGl0UHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdFByaW9yaXR5SW5wdXRcIikudmFsdWU7XG4gICAgICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRQcm9qZWN0SW5wdXRcIikudmFsdWU7XG4gICAgICAgICAgIGFwcC5zYXZlRWRpdFRvZG8oaW5kZXgsIGVkaXRUaXRsZUlucHV0LCBlZGl0RGVzY3JpcHRpb25JbnB1dCwgZWRpdER1ZURhdGVJbnB1dCwgZWRpdFByaW9yaXR5SW5wdXQsIGVkaXRQcm9qZWN0SW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbmV3VG9kb0Zvcm0sIHRvZG8sIGVkaXRUb2RvIH1cbn0pKCk7IiwiaW1wb3J0IHsgVUkgfSBmcm9tICcuL1VJLmpzJztcbmltcG9ydCB7IGJpbmRFdmVudCB9IGZyb20gJy4vYmluZEV2ZW50JztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJ1xuXG5mdW5jdGlvbiBUb2RvKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7IFxuXG59ICAgIFxuXG5Ub2RvLnByb3RvdHlwZS51cGRhdGVUb2RvID0gZnVuY3Rpb24obmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEdWVEYXRlLCBuZXdQcmlvcml0eSwgbmV3UHJvamVjdCkge1xuICAgIHRoaXMudGl0bGUgPSBuZXdUaXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgdGhpcy5kdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICB0aGlzLnByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgdGhpcy5wcm9qZWN0ID0gbmV3UHJvamVjdDtcbn1cblxuXG5cblxuZXhwb3J0IGNvbnN0IGFwcCA9ICgoKSA9PiB7XG5cbiAgICAvLyBzdG9yZXMgZXZlcnkgdG9kb1xuICAgIGxldCB0b2RvcyA9IFtdOyAgICBcbiAgICBcbiAgICAvLyBjYWNoZSBkb21cbiAgICBjb25zdCBuZXdCb29rQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdCb29rQnRuXCIpO1xuICAgIGNvbnN0IG5ld1RvZG9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXdUb2RvRm9ybVwiKTtcbiAgICBjb25zdCB0b2Rvc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb3MtY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGVkaXRUb2RvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0VG9kb0NvbnRhaW5lclwiKVxuXG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIilcbiAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKVxuICAgIGNvbnN0IGR1ZWRhdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHVlZGF0ZVwiKVxuICAgIGNvbnN0IHByaW9yaXR5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByaW9yaXR5XCIpXG4gICAgY29uc3QgcHJvamVjdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0XCIpXG5cbiAgICBjb25zdCBuYXZQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2UHJvamVjdHNcIik7XG4gICAgY29uc3QgbmF2SG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2SG9tZVwiKTtcbiAgICBjb25zdCBuYXZUb2RheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2VG9kYXlcIik7XG4gICAgY29uc3QgbmF2V2VlayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2V2Vla1wiKTtcblxuICAgIC8vIGFkZCBldmVudHNcbiAgICBuZXdCb29rQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBVSS5vcGVuTmV3VG9kb0Zvcm0gKVxuICAgIG5ld1RvZG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiaW5kRXZlbnQubmV3VG9kb0Zvcm0pXG4gICAgdG9kb3NDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJpbmRFdmVudC50b2RvKVxuICAgIGVkaXRUb2RvQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiaW5kRXZlbnQuZWRpdFRvZG8pXG4gICAgbmF2UHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dBbGxQcm9qZWN0cylcbiAgICBuYXZIb21lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2FkSG9tZSk7XG4gICAgbmF2VG9kYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvYWRUb2RheSlcbiAgICBuYXZXZWVrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2FkV2VlaylcblxuXG4gICAgLy8gZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gYWRkVG9kbygpIHtcbiAgICAgICAgaWYoIXRpdGxlSW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91IGhhdmUgdG8gZmlsbCBpbiBhIHRpdGxlIVwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1RvZG8gPSBuZXcgVG9kbyh0aXRsZUlucHV0LnZhbHVlLCBkZXNjcmlwdGlvbklucHV0LnZhbHVlLCBkdWVkYXRlSW5wdXQudmFsdWUsIHByaW9yaXR5SW5wdXQudmFsdWUsIHByb2plY3RJbnB1dC52YWx1ZSk7XG4gICAgICAgIHRvZG9zLnB1c2gobmV3VG9kbylcbiAgICAgICAgVUkubG9hZEhvbWUodG9kb3MpXG4gICAgICAgIFVJLmNsb3NlTmV3VG9kb0Zvcm0oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZVRvZG9Gb3JtKCkge1xuICAgICAgICBVSS5sb2FkSG9tZSh0b2RvcylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxldGVUb2RvKGluZGV4KSB7XG4gICAgICAgIHRvZG9zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIFVJLmxvYWRIb21lKHRvZG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0VG9kbyhpbmRleCkge1xuICAgICAgICBVSS5vcGVuRWRpdFRvZG8odG9kb3NbaW5kZXhdLCBpbmRleClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxFZGl0VG9kbygpIHtcbiAgICAgICAgVUkuY2xvc2VFZGl0VG9kbygpO1xuICAgICAgICBVSS5sb2FkSG9tZSh0b2Rvcyk7XG4gICAgfVxuIFxuICAgIFxuICAgIGZ1bmN0aW9uIHNhdmVFZGl0VG9kbyhpbmRleCwgbmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEdWVEYXRlLCBuZXdQcmlvcml0eSwgbmV3UHJvamVjdCkge1xuICAgICAgICB0b2Rvc1tpbmRleF0udXBkYXRlVG9kbyhuZXdUaXRsZSwgbmV3RGVzY3JpcHRpb24sIG5ld0R1ZURhdGUsIG5ld1ByaW9yaXR5LCBuZXdQcm9qZWN0KTtcbiAgICAgICAgVUkuY2xvc2VFZGl0VG9kbygpO1xuICAgICAgICBVSS5sb2FkSG9tZSh0b2Rvcyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGR1bW15VG9kbzEgPSBuZXcgVG9kbyhcIlRpdGVsMVwiLCBcIkJlc2NocmVpYnVuZyAxXCIsIFwiMTk5OS0wOC0wNFwiLFwiV2ljaHRpZ1wiLCBcIlByb2plY3QxXCIpXG4gICAgICAgIGNvbnN0IGR1bW15VG9kbzIgPSBuZXcgVG9kbyhcIlRpdGVsMlwiLCBcIkJlc2NocmVpYnVuZyAxXCIsIFwiMTk5OS0wOC0wNFwiLCBcIldpY2h0aWcxXCIsIFwiUHJvamVjdDJcIilcbiAgICAgICAgY29uc3QgZHVtbXlUb2RvMyA9IG5ldyBUb2RvKFwiVGl0ZWwzZWluc1wiLCBcIkJlc2NocmVpYnVuZyAxXCIsIFwiMjAyMi0wOC0wNVwiLCBcIldpY2h0aWcyXCIsIFwiUHJvamVjdDNcIilcbiAgICAgICAgY29uc3QgZHVtbXlUb2RvNCA9IG5ldyBUb2RvKFwiVGl0ZWw0ZWluc1wiLCBcIkJlc2NocmVpYnVuc2cgMVwiLCBcIjE5OTktMDgtMDRcIiwgXCJXaWNodGlnMlwiLCBcIlByb2plY3QxXCIpXG4gICAgICAgIHRvZG9zLnB1c2goZHVtbXlUb2RvMSlcbiAgICAgICAgdG9kb3MucHVzaChkdW1teVRvZG8yKVxuICAgICAgICB0b2Rvcy5wdXNoKGR1bW15VG9kbzMpXG4gICAgICAgIHRvZG9zLnB1c2goZHVtbXlUb2RvNClcbiAgICAgICAgXG4gICAgICAgIFVJLmxvYWRIb21lKHRvZG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93QWxsUHJvamVjdHMoKSB7XG4gICAgICAgIFVJLmNsZWFyU2NyZWVuKCk7XG4gICAgICAgIFVJLmxvYWRQcm9qZWN0c1BhZ2UodG9kb3MpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZEhvbWUoKSB7XG4gICAgICAgIFVJLmNsZWFyU2NyZWVuKCk7XG4gICAgICAgIFVJLmxvYWRIb21lKHRvZG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkVG9kYXkoKSB7XG4gICAgICAgIFVJLmNsZWFyU2NyZWVuKCk7XG4gICAgICAgIFVJLmxvYWRUb2RheSh0b2Rvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFdlZWsoKSB7XG4gICAgICAgIFVJLmNsZWFyU2NyZWVuKCk7XG4gICAgICAgIFVJLmxvYWRXZWVrKHRvZG9zKVxuICAgIH1cblxuICAgIGluaXQoKTtcbiAgICBcblxuICAgIHJldHVybiB7YWRkVG9kbywgZGVsZXRlVG9kbywgZWRpdFRvZG8sIGNhbmNlbEVkaXRUb2RvLCBzYXZlRWRpdFRvZG8sIGNsb3NlVG9kb0Zvcm19XG5cbn0pKCk7XG5cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsInRvRGF0ZSIsImFyZ3VtZW50IiwiYXJndW1lbnRzIiwiYXJnU3RyIiwidG9TdHJpbmciLCJEYXRlIiwiZ2V0VGltZSIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiIsInN0YXJ0T2ZEYXkiLCJkaXJ0eURhdGUiLCJkYXRlIiwic2V0SG91cnMiLCJpc1NhbWVEYXkiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdFN0YXJ0T2ZEYXkiLCJkYXRlUmlnaHRTdGFydE9mRGF5IiwidG9JbnRlZ2VyIiwiZGlydHlOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwic3RhcnRPZldlZWsiLCJvcHRpb25zIiwiX3JlZiIsIl9yZWYyIiwiX3JlZjMiLCJfb3B0aW9ucyR3ZWVrU3RhcnRzT24iLCJfb3B0aW9ucyRsb2NhbGUiLCJfb3B0aW9ucyRsb2NhbGUkb3B0aW8iLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwiLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwyIiwid2Vla1N0YXJ0c09uIiwibG9jYWxlIiwiUmFuZ2VFcnJvciIsImRheSIsImdldERheSIsImRpZmYiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImlzU2FtZVdlZWsiLCJkYXRlTGVmdFN0YXJ0T2ZXZWVrIiwiZGF0ZVJpZ2h0U3RhcnRPZldlZWsiLCJVSSIsIm5ld1RvZG9Gb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9kb3NDb250YWluZXIiLCJlZGl0VG9kb0NvbnRhaW5lciIsImNvbnRlbnQiLCJjbG9zZU5ld1RvZG9Gb3JtIiwiY2hpbGROb2RlcyIsImZvckVhY2giLCJlbGUiLCJ0eXBlIiwidmFsdWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHAiLCJjbG9zZVRvZG9Gb3JtIiwiY2xvc2VFZGl0VG9kbyIsImlubmVySFRNTCIsImxvYWRXZWVrIiwidG9kb3MiLCJpbmRleCIsIndlZWtUb2RvcyIsImZpbHRlciIsInRvZG8iLCJub3ciLCJpc1RoaXNXZWVrIiwicGFyc2UiLCJkdWVEYXRlIiwidGl0bGUiLCJsb2FkVG9kYXkiLCJ0b2RheVRvZG9zIiwiaXNUb2RheSIsImxvYWRQcm9qZWN0c1BhZ2UiLCJwcm9qZWN0TmFtZXMiLCJtYXAiLCJwcm9qZWN0IiwiU2V0IiwidG9kb3NXaXRoU2FtZVByb2plY3QiLCJwcm9qZWN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJwcm9qZWN0VG9kbyIsImNsZWFyU2NyZWVuIiwib3Blbk5ld1RvZG9Gb3JtIiwicmVtb3ZlIiwibG9hZEhvbWUiLCJvcGVuRWRpdFRvZG8iLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwiYmluZEV2ZW50IiwiZSIsImV2ZW50Q2xhc3MiLCJ0YXJnZXQiLCJhZGRUb2RvIiwicGFyZW50Tm9kZSIsImRhdGFzZXQiLCJpZCIsImRlbGV0ZVRvZG8iLCJlZGl0VG9kbyIsImNhbmNlbEVkaXRUb2RvIiwiZWRpdFRpdGxlSW5wdXQiLCJlZGl0RGVzY3JpcHRpb25JbnB1dCIsImVkaXREdWVEYXRlSW5wdXQiLCJlZGl0UHJpb3JpdHlJbnB1dCIsImVkaXRQcm9qZWN0SW5wdXQiLCJzYXZlRWRpdFRvZG8iLCJUb2RvIiwidGhpcyIsInVwZGF0ZVRvZG8iLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RHVlRGF0ZSIsIm5ld1ByaW9yaXR5IiwibmV3UHJvamVjdCIsIm5ld0Jvb2tCdG4iLCJ0aXRsZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsImR1ZWRhdGVJbnB1dCIsInByaW9yaXR5SW5wdXQiLCJwcm9qZWN0SW5wdXQiLCJuYXZQcm9qZWN0cyIsIm5hdkhvbWUiLCJuYXZUb2RheSIsIm5hdldlZWsiLCJhZGRFdmVudExpc3RlbmVyIiwiZHVtbXlUb2RvMSIsImR1bW15VG9kbzIiLCJkdW1teVRvZG8zIiwiZHVtbXlUb2RvNCIsInB1c2giLCJpbml0IiwiYWxlcnQiLCJuZXdUb2RvIiwic3BsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==